# 顔の向きを検知するアプリ

|        |                  |
| ------ | ---------------- |
| Author | Tomokatsu Kumata |
| Date   | 2025/06/20       |
| Status | Reviewing        |

## 概要

iPhone / iPad のカメラを利用して、人の顔が正面かそれ以外か検知するアプリです。

## 背景

現在、多くの保育施設で昼寝時に園児がうつ伏せになってないか、職員が目視で確認しています。園児数が多いので目視だと時間がかかることが問題となっています。現場職員としては、タブレットをかざしたら同時に複数人の状態を検知するようなアプリの要望が挙がっています。

しかし、この問題の根本的な解決策は、職員が目視のみならずタブレットをかざす行為すら行わないことですが、現状 IoT 導入のコストや IoT 自体の精度などを踏まえると、状況を打開するには時間がかかります。そのためどの施設も安価に IoT を導入できるまでの間の「つなぎ」が必要と考えられます。

現場から挙がっている要望を「つなぎ」として開発します。

## ユースケース

- 職員が部屋で iPhone / iPad をかざす。
- 職員は、保育園などの保育士を指す。
- 部屋では、複数の赤ん坊が昼寝している。
- 片手で使えるようにする。
- 部屋は、薄暗い。

## 機能要件

- カメラのファインダに入った顔に四角い枠を重ねます。
- 顔が正面の場合は、緑色の枠です。
- 顔が正面以外の場合は、赤い枠です。
- 顔が正面であることの定義は、上下左右10度の範囲です。
- アプリを起動したら、アプリの注書きが表示され、同意ボタンをタップするとファインダが起動します。
- 注意書きページには「次回から表示しない」チェックボックスがあります。
- 「次回から表示しない」チェックボックスにチェックを入れると、次回からすぐファインダ画面になります。
- ファインダ画面には、シャッターボタンなどは一切ありません。
- iPhone / iPad は、縦向き (portrate) で利用します。

アプリの注意書きは以下の旨が含まれます。

- 映像は保存されない。
- 横顔を検知してるだけなので実際のうつ伏せとは違う。

## 技術選定

- 使用言語は Swift
- IDE は Xcode
- 開発環境は MacBook Air (M4 chip)
- アプリのハードウェアは iPhone / iPad

## 制限・注意事項

このアプリは、iPhone / iPad のカメラを利用して、人の顔が正面以外を向いているか検知します。現場の職員としては、安価で専用ハードウェアが不要であり、このアプリはその要望に応えるでしょう。しかし、アラートが出るのは正面以外の顔だけであり、正確にうつ伏せかどうかを確認できるわけではありませんので、その点には注意が必要です。また、精度は Vision フレームワークに依存するため、使用環境や光の状況によって変動する可能性があります。

## Pros

- 専用ハードウェアが不要
- 安価 (機種変で iPhone が余ってる前提)

## Cons

- 精度は Vision フレームワークに依存
- 顔の向きのみ検知
